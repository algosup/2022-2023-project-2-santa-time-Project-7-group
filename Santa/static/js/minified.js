const controller=new AbortController,timeoutId=setTimeout(()=>controller.abort(),1e3);function urlExists(link){fetch(link,{method:"HEAD",mode:"no-cors",signal:controller.signal}).then((function(response){inc++,document.getElementById("frame_ref"+inc).href=link,document.getElementById("frame"+inc).src=link})).catch((function(error){inc++,document.getElementById("frame_ref"+inc).style.display="none"}))}inc=0,urlExists("https://xmas.algosup.com/"),urlExists("https://santaclock.algosup.com/"),urlExists("https://santa.algosup.com/");var calendar=document.getElementById("popup_calendar"),btn_in=document.getElementById("calendar_btn"),btn_out=document.getElementById("close_popup"),img_out=document.getElementById("close_img"),grid=document.getElementById("grid"),rarittyID=document.getElementById("rarity");function bigImage(i){let date,d=(new Date).getDate();i<=d?(document.getElementById("big_image").style.display="flex",document.getElementById("denter_grid").style.display="none",verifGachaHistory(i)&&gacha(i),rarity=Array.from(getGacha(i))[0],SetRarity(rarity),localStorage.setItem(`div_${i}`,rarity),imgIco(base+getGacha(i)+raw,i),SetRarityIco(rarity,i),document.getElementById("imgdisp").src="",document.getElementById("imgdisp").src=base+getGacha(i)+raw,document.getElementById("close_popup").style.display="none"):(document.getElementById("tooSoon").style.display="flex",document.getElementById("setText").innerHTML=`${i-d} days too soon`)}function imgOut(){document.getElementById("big_image").style.display="none",document.getElementById("denter_grid").style.display="block",document.getElementById("close_popup").style.display="block"}function div24(){var arr1=[...Array(24).keys()].map(x=>++x);for(let i=0;i<arr1.length;i++)makeDiv24(arr1[i])}function shuffleArray(array){return array.sort(()=>Math.random()-.5)}function makeDiv24(i){if(a=localStorage.getItem(`div_${i}`),null==a){let div=document.createElement("div");div.innerHTML=i,div.id=`div_id${i}`,div.setAttribute("onclick",`bigImage(${i})`),div.className="notranslate",grid.appendChild(div)}else{let div=document.createElement("div");div.id=`div_id${i}`,div.setAttribute("onclick",`bigImage(${i})`),div.className="notranslate",grid.appendChild(div),imgIco(base+getGacha(i)+raw,i),SetRarityIco(a,i)}}function imgIco(inglink,i){img=document.createElement("img"),img.src=inglink,img.classList.add("imgico"),document.getElementById(`div_id${i}`).innerHTML="",document.getElementById(`div_id${i}`).appendChild(img)}function SetRarity(r){switch(r){case"r":rarittyID.className="rare",rarittyID.childNodes[1].textContent="RARE";break;case"e":rarittyID.className="epic",rarittyID.childNodes[1].textContent="EPIC";break;case"l":rarittyID.className="legendary",rarittyID.childNodes[1].textContent="LEGENDARY";break;case"m":rarittyID.className="mythical",rarittyID.childNodes[1].textContent="MYTHICAL";break;default:rarittyID.className="common",rarittyID.childNodes[1].textContent="COMMON"}}function SetRarityIco(r,i){switch(r){case"r":document.getElementById(`div_id${i}`).className="rico";break;case"e":document.getElementById(`div_id${i}`).className="eico";break;case"l":document.getElementById(`div_id${i}`).className="lico";break;case"m":document.getElementById(`div_id${i}`).className="mico";break;default:document.getElementById(`div_id${i}`).className="cico"}}function cookieHandler(){document.getElementById("cookie").style.display="none",localStorage.setItem("cookie_accepted","true")}function CountdownTracker(label,value){var el=document.createElement("span");el.className="flip-clock__piece notranslate",el.innerHTML='<b class="flip-clock__card card"><b class="card__top"></b><b class="card__bottom"></b><b class="card__back"><b class="card__bottom"></b></b></b><span class="flip-clock__slot"><font>'+label+"</font></span>",this.el=el;var top=el.querySelector(".card__top"),bottom=el.querySelector(".card__bottom"),back=el.querySelector(".card__back"),backBottom=el.querySelector(".card__back .card__bottom");this.update=function(val){(val=("0"+val).slice(-2))!==this.currentValue&&(this.currentValue>=0&&(back.setAttribute("data-value",this.currentValue),bottom.setAttribute("data-value",this.currentValue)),this.currentValue=val,top.innerText=this.currentValue,backBottom.setAttribute("data-value",this.currentValue),this.el.classList.remove("flip"),this.el.offsetWidth,this.el.classList.add("flip"))},this.update(value)}function getTimeRemaining(endtime){var t=Date.parse(endtime)-Date.parse(new Date);return{Total:t,Days:Math.floor(t/864e5),Hours:Math.floor(t/36e5%24),Minutes:Math.floor(t/1e3/60%60),Seconds:Math.floor(t/1e3%60)}}function getTime(){var t=new Date;return{Total:t,Hours:t.getHours(),Minutes:t.getMinutes(),Seconds:t.getSeconds()}}function Clock(countdown,callback){countdown=!!countdown&&new Date(Date.parse(countdown)),callback=callback||function(){};var updateFn=countdown?getTimeRemaining:getTime;this.el=document.createElement("div"),this.el.className="flip-clock";var trackers={},t=updateFn(countdown),key,timeinterval;for(key in t)"Total"!==key&&(trackers[key]=new CountdownTracker(key,t[key]),this.el.appendChild(trackers[key].el));var i=0;function updateClock(){if(timeinterval=requestAnimationFrame(updateClock),!(i++%10)){var t=updateFn(countdown);if(t.Total<0){for(key in cancelAnimationFrame(timeinterval),trackers)trackers[key].update(0);callback()}else for(key in trackers)trackers[key].update(t[key])}}setTimeout(updateClock,500)}function createClock(timeend){var parentNode=document.getElementsByClassName("container_santa")[0];const clocks=Array.from(document.getElementsByClassName("flip-clock"));clocks.forEach(clock=>{clock.remove()});var c=new Clock(timeend,(function(){alert("countdown complete")}));parentNode.appendChild(c.el)}base="https://raw.githubusercontent.com/algosup/2022-2023-project-2-santa-time-Project-7-group/gatcha-image/gachas/",raw="?raw=true",btn_out.onclick=function(){calendar.style.display="none"},btn_in.onclick=function(){calendar.style.display="block",div=document.getElementById("div_id1"),"undefined"!=div&&null!=div||div24()},document.getElementById("tooSoon").onclick=function(){document.getElementById("tooSoon").style.display="none"},document.getElementById("popup_calendar").onclick=function(event){let once=!1,twice=!0;"none"!=document.getElementById("big_image").style.display&&""!=document.getElementById("big_image").style.display||(once=!0),"none"!=document.getElementById("tooSoon").style.display&&""!=document.getElementById("tooSoon").style.display||(twice=!0),once&&twice&&event.path[0].id.includes("popup_calendar")&&(event.path[0].style.display="none")},"true"==localStorage.getItem("cookie_accepted")&&(document.getElementById("cookie").style.display="none");let gachas_common=[],gachas_rare=[],gachas_epic=[],gachas_legendary=[],gachas_mythic=[],date=new Date,d=date.getDate();for(let i=1;i<=24;i++)gachas_common.push(`c${i}.png`),gachas_rare.push(`r${i}.png`),gachas_epic.push(`e${i}.png`),gachas_legendary.push(`l${i}.png`),gachas_mythic.push(`m${i}.png`);let gacha_chances=[[0,gachas_common],[.4,gachas_rare],[.7,gachas_epic],[.9,gachas_legendary],[.98,gachas_mythic]];function gacha(day){let rand=Math.random();for(let i=gacha_chances.length-1;i>-1;i--)if(rand>gacha_chances[i][0]){if(null===localStorage.getItem("santa_gachas"))localStorage.setItem("santa_gachas",JSON.stringify([[day,gacha_chances[i][1][day-1]]]));else{let santa_gachas=JSON.parse(localStorage.getItem("santa_gachas"));santa_gachas.push([day,gacha_chances[i][1][day-1]]),localStorage.setItem("santa_gachas",JSON.stringify(santa_gachas))}return gacha_chances[i][1][day-1]}}function verifGachaHistory(day){let santa_gachas=JSON.parse(localStorage.getItem("santa_gachas"));return null===santa_gachas||0==santa_gachas.filter(e=>e[0]==day).length}function getGacha(day){return JSON.parse(localStorage.getItem("santa_gachas")).filter(e=>e[0]==day)[0][1]}function setShowResults(setTo){setTo?document.getElementById("autocomplete_list").className="suggestions":setTimeout(()=>{document.getElementById("autocomplete_list").className="suggestions-out"},300)}const dst=0,E=.383;var map=new Map;function modulo(a,b){return a-b*Math.floor(a/b)}function LT(loc,Z){return 0+(15*Z-loc)/15-E/60}function hours(lt){return Math.trunc(lt)}function minutes(lt,h){return Math.trunc(60*(lt-h))}function seconds(lt,h,m){return Math.trunc(3600*(lt-h-m/60))}function calcSantaTime(loc,Z){var lt=LT(loc,Z),h=hours(lt),m=minutes(lt,h),s;return[h,m,seconds(lt,h,m)]}function useGPS(){if(navigator.geolocation){const options={timeout:5e3};navigator.geolocation.getCurrentPosition(position=>{timeZone(position.coords.latitude,position.coords.longitude)},err=>console.log(err),options)}else alert("Geolocation is not supported by this browser.")}function timeZone(lat,long){var url;fetch("https://noel.gq/tz/"+lat+"/"+long).then(response=>response.json()).then(data=>{var Z=map.get(data.tz),final;null!=Z?timeDiff(calcSantaTime(long,Z),Z):data.tz.includes("Etc/GMT")&&(Z=data.tz.substring(7))}).catch(err=>{console.log(err)})}map.set("Asia/Kabul",4.3),map.set("Europe/Tirane",1),map.set("Africa/Algiers",1),map.set("Pacific/Pago_Pago",-11),map.set("Europe/Andorra",1),map.set("Africa/Luanda",1),map.set("America/Anguilla",-4),map.set("Antarctica/Casey",11),map.set("Antarctica/Davis",7),map.set("Antarctica/DumontDUrville",10),map.set("Antarctica/Mawson",5),map.set("Antarctica/McMurdo",13),map.set("Antarctica/Palmer",-3),map.set("Antarctica/Rothera",-3),map.set("Antarctica/Syowa",3),map.set("Antarctica/Troll",0),map.set("Antarctica/Vostok",6),map.set("Barbuda\tAmerica/Antigua",-4),map.set("America/Argentina/Buenos_Aires",-3),map.set("America/Argentina/Catamarca",-3),map.set("America/Argentina/Cordoba",-3),map.set("America/Argentina/Jujuy",-3),map.set("America/Argentina/La_Rioja",-3),map.set("America/Argentina/Mendoza",-3),map.set("America/Argentina/Rio_Gallegos",-3),map.set("America/Argentina/Salta",-3),map.set("America/Argentina/San_Juan",-3),map.set("America/Argentina/San_Luis",-3),map.set("America/Argentina/Tucuman",-3),map.set("America/Argentina/Ushuaia",-3),map.set("Asia/Yerevan",4),map.set("America/Aruba",-4),map.set("Antarctica/Macquarie",11),map.set("Australia/Adelaide",10.3),map.set("Australia/Brisbane",10),map.set("Australia/Broken_Hill",10.3),map.set("Australia/Darwin",9.3),map.set("Australia/Eucla",8.45),map.set("Australia/Hobart",11),map.set("Australia/Lindeman",10),map.set("Australia/Lord_Howe",11),map.set("Australia/Melbourne",11),map.set("Australia/Perth",8),map.set("Australia/Sydney",11),map.set("Europe/Vienna",1),map.set("Asia/Baku",4),map.set("America/Nassau",-5),map.set("Asia/Bahrain",3),map.set("Asia/Dhaka",6),map.set("America/Barbados",-4),map.set("Europe/Minsk",3),map.set("Europe/Brussels",1),map.set("America/Belize",-6),map.set("Africa/Porto-Novo",1),map.set("Atlantic/Bermuda",-4),map.set("Asia/Thimphu",6),map.set("America/La_Paz",-4),map.set("America/Kralendijk",-4),map.set("Europe/Sarajevo",1),map.set("Africa/Gaborone",2),map.set("America/Araguaina",-3),map.set("America/Bahia",-3),map.set("America/Belem",-3),map.set("America/Boa_Vista",-4),map.set("America/Campo_Grande",-4),map.set("America/Cuiaba",-4),map.set("America/Eirunepe",-5),map.set("America/Fortaleza",-3),map.set("America/Maceio",-3),map.set("America/Manaus",-4),map.set("America/Noronha",-2),map.set("America/Porto_Velho",-4),map.set("America/Recife",-3),map.set("America/Rio_Branco",-5),map.set("America/Santarem",-3),map.set("America/Sao_Paulo",-3),map.set("Indian/Chagos",6),map.set("Asia/Brunei",8),map.set("Europe/Sofia",2),map.set("Africa/Ouagadougou",0),map.set("Africa/Bujumbura",2),map.set("Asia/Phnom_Penh",7),map.set("Africa/Douala",1),map.set("America/Atikokan",-5),map.set("America/Blanc-Sablon",-4),map.set("America/Cambridge_Bay",-7),map.set("America/Creston",-7),map.set("America/Dawson",-7),map.set("America/Dawson_Creek",-7),map.set("America/Edmonton",-7),map.set("America/Fort_Nelson",-7),map.set("America/Glace_Bay",-4),map.set("America/Goose_Bay",-4),map.set("America/Halifax",-4),map.set("America/Inuvik",-7),map.set("America/Iqaluit",-5),map.set("America/Moncton",-4),map.set("America/Pangnirtung",-5),map.set("America/Rankin_Inlet",-6),map.set("America/Regina",-6),map.set("America/Resolute",-6),map.set("America/St_Johns",-3.3),map.set("America/Swift_Current",-6),map.set("America/Toronto",-5),map.set("America/Vancouver",-8),map.set("America/Whitehorse",-7),map.set("America/Winnipeg",-6),map.set("America/Yellowknife",-7),map.set("Atlantic/Cape_Verde",-1),map.set("America/Cayman",-5),map.set("Africa/Bangui",1),map.set("Africa/Ndjamena",1),map.set("America/Punta_Arenas",-3),map.set("America/Santiago",-3),map.set("Pacific/Easter",-5),map.set("Asia/Shanghai",8),map.set("Asia/Urumqi",6),map.set("Indian/Christmas",7),map.set("Indian/Cocos",6.3),map.set("America/Bogota",-5),map.set("Indian/Comoro",3),map.set("Africa/Brazzaville",1),map.set("Africa/Kinshasa",1),map.set("Africa/Lubumbashi",2),map.set("Pacific/Rarotonga",-10),map.set("America/Costa_Rica",-6),map.set("Europe/Zagreb",1),map.set("America/Havana",-5),map.set("America/Curacao",-4),map.set("Asia/Famagusta",2),map.set("Asia/Nicosia",2),map.set("Europe/Prague",1),map.set("Africa/Abidjan",0),map.set("Europe/Copenhagen",1),map.set("Africa/Djibouti",3),map.set("America/Dominica",-4),map.set("America/Santo_Domingo",-4),map.set("America/Guayaquil",-5),map.set("Pacific/Galapagos",-6),map.set("Africa/Cairo",2),map.set("America/El_Salvador",-6),map.set("Africa/Malabo",1),map.set("Africa/Asmara",3),map.set("Europe/Tallinn",2),map.set("Africa/Addis_Ababa",3),map.set("Atlantic/Stanley",-3),map.set("Atlantic/Faroe",0),map.set("Pacific/Fiji",12),map.set("Europe/Helsinki",2),map.set("Europe/Paris",1),map.set("America/Cayenne",-3),map.set("Pacific/Gambier",-8),map.set("Pacific/Marquesas",-9.3),map.set("Pacific/Tahiti",-10),map.set("Indian/Kerguelen",5),map.set("Africa/Libreville",1),map.set("Africa/Banjul",0),map.set("Asia/Tbilisi",4),map.set("Europe/Berlin",1),map.set("Europe/Busingen",1),map.set("Africa/Accra",0),map.set("Europe/Gibraltar",1),map.set("Europe/Athens",2),map.set("America/Danmarkshavn",0),map.set("America/Nuuk",-3),map.set("America/Scoresbysund",-1),map.set("America/Thule",-4),map.set("America/Grenada",-4),map.set("America/Guadeloupe",-4),map.set("Pacific/Guam",10),map.set("America/Guatemala",-6),map.set("Europe/Guernsey",0),map.set("Africa/Conakry",0),map.set("Africa/Bissau",0),map.set("America/Guyana",-4),map.set("America/Port-au-Prince",-5),map.set("Europe/Vatican",1),map.set("America/Tegucigalpa",-6),map.set("Asia/Hong_Kong",8),map.set("Europe/Budapest",1),map.set("Atlantic/Reykjavik",0),map.set("Asia/Kolkata",5.3),map.set("Asia/Jakarta",7),map.set("Asia/Jayapura",8),map.set("Asia/Makassar",8),map.set("Asia/Pontianak",7),map.set("Asia/Tehran",3.3),map.set("Asia/Baghdad",3),map.set("Europe/Dublin",0),map.set("Europe/Isle_of_Man",0),map.set("Asia/Jerusalem",2),map.set("Europe/Rome",1),map.set("America/Jamaica",-5),map.set("Asia/Tokyo",8),map.set("Europe/Jersey",0),map.set("Asia/Amman",3),map.set("Asia/Almaty",6),map.set("Asia/Aqtau",5),map.set("Asia/Aqtobe",5),map.set("Asia/Atyrau",5),map.set("Asia/Oral",5),map.set("Asia/Qostanay",6),map.set("Asia/Qyzylorda",5),map.set("Africa/Nairobi",3),map.set("Pacific/Kanton",13),map.set("Pacific/Kiritimati",14),map.set("Pacific/Tarawa",12),map.set("Asia/Pyongyang",8),map.set("Asia/Seoul",8),map.set("Asia/Kuwait",3),map.set("Asia/Bishkek",6),map.set("Asia/Vientiane",7),map.set("Europe/Riga",2),map.set("Asia/Beirut",2),map.set("Africa/Maseru",2),map.set("Africa/Monrovia",0),map.set("Africa/Tripoli",2),map.set("Europe/Vaduz",1),map.set("Europe/Vilnius",2),map.set("Europe/Luxembourg",1),map.set("Asia/Macau",8),map.set("Europe/Skopje",1),map.set("Indian/Antananarivo",3),map.set("Africa/Blantyre",2),map.set("Asia/Kuala_Lumpur",8),map.set("Asia/Kuching",8),map.set("Indian/Maldives",5),map.set("Africa/Bamako",0),map.set("Europe/Malta",1),map.set("Pacific/Kwajalein",12),map.set("Pacific/Majuro",12),map.set("America/Martinique",-4),map.set("Africa/Nouakchott",0),map.set("Indian/Mauritius",4),map.set("Indian/Mayotte",3),map.set("America/Bahia_Banderas",-6),map.set("America/Cancun",-5),map.set("America/Chihuahua",-6),map.set("America/Hermosillo",-7),map.set("America/Matamoros",-6),map.set("America/Mazatlan",-7),map.set("America/Merida",-6),map.set("America/Mexico_City",-6),map.set("America/Monterrey",-6),map.set("America/Ojinaga",-6),map.set("America/Tijuana",-8),map.set("Pacific/Chuuk",10),map.set("Pacific/Kosrae",11),map.set("Pacific/Pohnpei",11),map.set("Europe/Chisinau",2),map.set("Europe/Monaco",1),map.set("Asia/Choibalsan",8),map.set("Asia/Hovd",7),map.set("Asia/Ulaanbaatar",8),map.set("Europe/Podgorica",1),map.set("America/Montserrat",-4),map.set("Africa/Casablanca",1),map.set("Africa/El_Aaiun",1),map.set("Africa/Maputo",2),map.set("Asia/Yangon",6.3),map.set("Africa/Windhoek",2),map.set("Pacific/Nauru",12),map.set("Asia/Kathmandu",5.45),map.set("Europe/Amsterdam",1),map.set("Pacific/Noumea",11),map.set("Pacific/Auckland",13),map.set("Pacific/Chatham",13.45),map.set("America/Managua",-6),map.set("Africa/Niamey",1),map.set("Africa/Lagos",1),map.set("Pacific/Niue",-11),map.set("Pacific/Norfolk",12),map.set("Pacific/Saipan",10),map.set("Europe/Oslo",1),map.set("Asia/Muscat",4),map.set("Asia/Karachi",5),map.set("Pacific/Palau",8),map.set("Asia/Gaza",2),map.set("Asia/Hebron",2),map.set("America/Panama",-5),map.set("Pacific/Bougainville",11),map.set("Pacific/Port_Moresby",10),map.set("America/Asuncion",-3),map.set("America/Lima",-5),map.set("Asia/Manila",8),map.set("Pacific/Pitcairn",-8),map.set("Europe/Warsaw",1),map.set("Atlantic/Azores",-1),map.set("Atlantic/Madeira",0),map.set("Europe/Lisbon",0),map.set("America/Puerto_Rico",-4),map.set("Asia/Qatar",3),map.set("Europe/Bucharest",2),map.set("Asia/Anadyr",12),map.set("Asia/Barnaul",7),map.set("Asia/Chita",8),map.set("Asia/Irkutsk",8),map.set("Asia/Kamchatka",12),map.set("Asia/Khandyga",8),map.set("Asia/Krasnoyarsk",7),map.set("Asia/Magadan",11),map.set("Asia/Novokuznetsk",7),map.set("Asia/Novosibirsk",7),map.set("Asia/Omsk",6),map.set("Asia/Sakhalin",11),map.set("Asia/Srednekolymsk",11),map.set("Asia/Tomsk",7),map.set("Asia/Ust-Nera",10),map.set("Asia/Vladivostok",10),map.set("Asia/Yakutsk",8),map.set("Asia/Yekaterinburg",5),map.set("Europe/Astrakhan",4),map.set("Europe/Kaliningrad",2),map.set("Europe/Kirov",3),map.set("Europe/Moscow",3),map.set("Europe/Samara",4),map.set("Europe/Saratov",4),map.set("Europe/Ulyanovsk",4),map.set("Europe/Volgograd",3),map.set("Africa/Kigali",2),map.set("Indian/Reunion",4),map.set("America/St_Barthelemy",-4),map.set("Atlantic/St_Helena",0),map.set("America/St_Kitts",-4),map.set("America/St_Lucia",-4),map.set("America/Marigot",-4),map.set("America/Miquelon",-3),map.set("America/St_Vincent",-4),map.set("Pacific/Apia",13),map.set("Europe/San_Marino",1),map.set("Africa/Sao_Tome",0),map.set("Asia/Riyadh",3),map.set("Africa/Dakar",0),map.set("Europe/Belgrade",1),map.set("Indian/Mahe",4),map.set("Africa/Freetown",0),map.set("Asia/Singapore",8),map.set("America/Lower_Princes",-4),map.set("Europe/Bratislava",1),map.set("Europe/Ljubljana",1),map.set("Pacific/Guadalcanal",11),map.set("Africa/Mogadishu",3),map.set("Africa/Johannesburg",2),map.set("Atlantic/h_Georgia",-2),map.set("Africa/Juba",2),map.set("Africa/Ceuta",1),map.set("Atlantic/Canary",0),map.set("Europe/Madrid",1),map.set("Asia/Colombo",5.3),map.set("Africa/Khartoum",2),map.set("America/Paramaribo",-3),map.set("Arctic/Longyearbyen",1),map.set("Africa/Mbabane",2),map.set("Europe/Stockholm",1),map.set("Europe/Zurich",1),map.set("Asia/Damascus",3),map.set("Asia/Taipei",8),map.set("Asia/Dushanbe",5),map.set("Africa/Dar_es_Salaam",3),map.set("Asia/Bangkok",7),map.set("Asia/Dili",8),map.set("Africa/Lome",0),map.set("Pacific/Fakaofo",13),map.set("Pacific/Tongatapu",13),map.set("America/Port_of_Spain",-4),map.set("Africa/Tunis",1),map.set("Europe/Istanbul",3),map.set("Asia/Ashgabat",5),map.set("America/Grand_Turk",-5),map.set("Pacific/Funafuti",12),map.set("Africa/Kampala",3),map.set("Europe/Kyiv",2),map.set("Europe/Simferopol",3),map.set("Asia/Dubai",4),map.set("Europe/London",0),map.set("America/Adak",-10),map.set("America/Anchorage",-8),map.set("America/Boise",-7),map.set("America/Chicago",-6),map.set("America/Denver",-7),map.set("America/Detroit",-5),map.set("America/Indiana/Indianapolis",-5),map.set("America/Indiana/Knox",-6),map.set("America/Indiana/Marengo",-5),map.set("America/Indiana/Petersburg",-5),map.set("America/Indiana/Tell_City",-6),map.set("America/Indiana/Vevay",-5),map.set("America/Indiana/Vincennes",-5),map.set("America/Indiana/Winamac",-5),map.set("America/Juneau",-8),map.set("America/Kentucky/Louisville",-5),map.set("America/Kentucky/Monticello",-5),map.set("America/Los_Angeles",-8),map.set("America/Menominee",-6),map.set("America/Metlakatla",-8),map.set("America/New_York",-5),map.set("America/Nome",-8),map.set("America/North_Dakota/Beulah",-6),map.set("America/North_Dakota/Center",-6),map.set("America/North_Dakota/New_Salem",-6),map.set("America/Phoenix",-7),map.set("America/Sitka",-8),map.set("America/Yakutat",-8),map.set("Pacific/Honolulu",-10),map.set("Pacific/Midway",-11),map.set("Pacific/Wake",12),map.set("America/Montevideo",-3),map.set("Asia/Samarkand",5),map.set("Asia/Tashkent",5),map.set("Pacific/Efate",11),map.set("America/Caracas",-4),map.set("Asia/Ho_Chi_Minh",7),map.set("America/Tortola",-4),map.set("America/St_Thomas",-4),map.set("Pacific/Wallis",12),map.set("Asia/Aden",3),map.set("Africa/Lusaka",2),map.set("Africa/Harare",2),map.set("Europe/Mariehamn",2);var lastFinal="";function getAnswer(final){document.getElementById("autocomplete_list").innerHTML="";let formatData=document.getElementById("location").value;var url;(formatData=formatData.replace(/ /g,"+"),formatData!=lastFinal)&&(lastFinal="",fetch("https://noel.gq/api?q="+formatData).then(response=>response.json()).then(data=>{var lat,long;if(0!=data.length)if(1==data.features.length||final)lastFinal=formatData,document.getElementById("autocomplete_list").innerHTML="",document.getElementById("autocomplete_list").style.height="0px",timeZone(data.features[0].geometry.coordinates[1],data.features[0].geometry.coordinates[0]);else for(var temp=[],i=0;i<data.features.length;i++){if("city"!=data.features[i].properties.type&&"street"!=data.features[i].properties.type&&"house"!=data.features[i].properties.type)continue;let streetnbr,street,city,country;if(streetnbr=null!=data.features[i].properties.housenumber?data.features[i].properties.housenumber:null!=data.features[i].properties.name?data.features[i].properties.name:"",street=null!=data.features[i].properties.street?data.features[i].properties.street:"",null!=data.features[i].properties.city)city=data.features[i].properties.city;else{if("city"!=data.features[i].properties.type){city="";continue}city=data.features[i].properties.name}if(null!=data.features[i].properties.country){country=data.features[i].properties.country;var text="";text="city"==data.features[i].properties.type?city+", "+country:streetnbr+" "+street+", "+city+", "+country;for(var exists=!1,j=0;j<temp.length;j++)temp.includes(text)&&(exists=!0);if(!exists){var li=document.createElement("li");li.appendChild(document.createTextNode(text)),li.setAttribute("id",data.features[i].geometry.coordinates[1]+","+data.features[i].geometry.coordinates[0]),li.addEventListener("click",(function(){document.getElementById("location").value=this.innerText;var id=this.id.split(","),lat,long;timeZone(id[0],id[1]),document.getElementById("autocomplete_list").innerHTML="",document.getElementById("autocomplete_list").style.height="0px"})),temp.push(li),document.getElementById("autocomplete_list").style.height="fit-content",document.getElementById("autocomplete_list").appendChild(li)}}else country=""}else document.getElementById("answer").innerText="Invalid location"}).catch(err=>console.warn(err.message)))}var timeout=null;function timeDiff(arr,utc){var date=new Date,day=0,month=date.getMonth()+1,hours=0,minutes=0,seconds=0;if(12!=month||date.getDate()>24){let daysInMonth=new Date(date.getFullYear(),month+1,0).getDate();day+=daysInMonth-date.getDate();for(var i=month+1;i<11;i++)daysInMonth=new Date(date.getFullYear(),i+1,0).getDate(),day+=daysInMonth;12!=month&&(day+=24)}else day=24-date.getDate();hours=24+arr[0]-date.getHours()-utc,minutes=60+arr[1]-date.getMinutes(),(seconds=60+arr[2]-date.getSeconds())<0?(seconds+=60,minutes--):seconds>60&&(seconds-=60,minutes++),minutes<0?(minutes+=60,hours--):minutes>60&&(minutes-=60,hours++),hours<0?(hours+=24,day--):hours>24&&(hours-=24,day++),enddate=new Date(date.getFullYear(),11,day+date.getDate(),hours+date.getHours(),minutes+date.getMinutes(),seconds+date.getSeconds()),createClock(enddate)}function googleTranslateElementInit(){let language=Navigator.language;new google.translate.TranslateElement({pageLanguage:language},"google_translate_element")}document.getElementById("location").onkeyup=function(){clearTimeout(timeout),timeout=setTimeout(getAnswer(!1),1500)};